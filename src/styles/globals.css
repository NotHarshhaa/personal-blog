@import 'tailwindcss';
@import '@tszhong0411/ui/styles/preset.css';
@import '@tszhong0411/ui/styles/shiki.css';
@import '@tszhong0411/ui/styles/typography.css';
@source '../../node_modules/@tszhong0411/ui/dist/**/*.js';

@theme {
  --height-footer: 64px;
  --height-header: 60px;
  --height-page: calc(100vh - var(--height-footer));
  --height-content: calc(
    var(--height-page) - var(--height-header) - calc(var(--spacing) * 40 - var(--height-header))
  );

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Performance optimizations */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimize images */
img {
  content-visibility: auto;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Focus styles for accessibility */
:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

/* Skip link for accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* Fix prose spacing for better readability */
.prose {
  line-height: 1.6 !important;
}

.prose p {
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  margin-top: 1.5rem !important;
  margin-bottom: 0.75rem !important;
}

.prose ul,
.prose ol {
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
}

.prose li {
  margin-top: 0.125rem !important;
  margin-bottom: 0.125rem !important;
}

.prose blockquote {
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
}

.prose code {
  padding: 0.125rem 0.25rem !important;
  margin: 0 !important;
}

.prose pre {
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
}

/* Mobile font size improvements - only affects mobile */
@media (max-width: 768px) {
  .prose {
    font-size: 1rem !important; /* 16px - standard readable size */
  }
  
  .prose p {
    font-size: 1rem !important;
  }
  
  .prose h1 {
    font-size: 1.75rem !important; /* 28px */
  }
  
  .prose h2 {
    font-size: 1.5rem !important; /* 24px */
  }
  
  .prose h3 {
    font-size: 1.25rem !important; /* 20px */
  }
  
  .prose h4 {
    font-size: 1.125rem !important; /* 18px */
  }
  
  .prose h5,
  .prose h6 {
    font-size: 1rem !important; /* 16px */
  }
  
  .prose ul,
  .prose ol {
    font-size: 1rem !important;
  }
  
  .prose li {
    font-size: 1rem !important;
  }
  
  .prose blockquote {
    font-size: 1rem !important;
  }
  
  .prose code {
    font-size: 0.875rem !important; /* 14px - slightly smaller for code */
  }
}

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;

  color: #24292e;
  background: #ffffff;
}

.hljs-comment,
.hljs-punctuation {
  color: #6a737d;
}

.hljs-attr,
.hljs-attribute,
.hljs-meta,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id {
  color: #005cc5;
}

.hljs-variable,
.hljs-literal,
.hljs-number,
.hljs-doctag {
  color: #e36209;
}

.hljs-params {
  color: #24292e;
}

.hljs-function {
  color: #6f42c1;
}

.hljs-class,
.hljs-tag,
.hljs-title,
.hljs-built_in {
  color: #22863a;
}

.hljs-keyword,
.hljs-type,
.hljs-builtin-name,
.hljs-meta-keyword,
.hljs-template-tag,
.hljs-template-variable {
  color: #d73a49;
}

.hljs-string,
.hljs-undefined {
  color: #032f62;
}

.hljs-regexp {
  color: #032f62;
}

.hljs-symbol {
  color: #005cc5;
}

.hljs-bullet {
  color: #e36209;
}

.hljs-section {
  color: #005cc5;
  font-weight: bold;
}

.hljs-quote,
.hljs-name,
.hljs-selector-tag,
.hljs-selector-pseudo {
  color: #22863a;
}

.hljs-emphasis {
  color: #e36209;
  font-style: italic;
}

.hljs-strong {
  color: #e36209;
  font-weight: bold;
}

.hljs-deletion {
  color: #b31d28;
  background-color: #ffeef0;
}

.hljs-addition {
  color: #22863a;
  background-color: #f0fff4;
}

.hljs-link {
  color: #032f62;
  font-style: underline;
}

.dark {
  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;

    color: #c9d1d9;
    background: #0d1117;
  }

  .hljs-comment,
  .hljs-punctuation {
    color: #8b949e;
  }

  .hljs-attr,
  .hljs-attribute,
  .hljs-meta,
  .hljs-selector-attr,
  .hljs-selector-class,
  .hljs-selector-id {
    color: #79c0ff;
  }

  .hljs-variable,
  .hljs-literal,
  .hljs-number,
  .hljs-doctag {
    color: #ffa657;
  }

  .hljs-params {
    color: #c9d1d9;
  }

  .hljs-function {
    color: #d2a8ff;
  }

  .hljs-class,
  .hljs-tag,
  .hljs-title,
  .hljs-built_in {
    color: #7ee787;
  }

  .hljs-keyword,
  .hljs-type,
  .hljs-builtin-name,
  .hljs-meta-keyword,
  .hljs-template-tag,
  .hljs-template-variable {
    color: #ff7b72;
  }

  .hljs-string,
  .hljs-undefined {
    color: #a5d6ff;
  }

  .hljs-regexp {
    color: #a5d6ff;
  }

  .hljs-symbol {
    color: #79c0ff;
  }

  .hljs-bullet {
    color: #ffa657;
  }

  .hljs-section {
    color: #79c0ff;
    font-weight: bold;
  }

  .hljs-quote,
  .hljs-name,
  .hljs-selector-tag,
  .hljs-selector-pseudo {
    color: #7ee787;
  }

  .hljs-emphasis {
    color: #ffa657;
    font-style: italic;
  }

  .hljs-strong {
    color: #ffa657;
    font-weight: bold;
  }

  .hljs-deletion {
    color: #ffa198;
    background-color: #490202;
  }

  .hljs-addition {
    color: #7ee787;
    background-color: #04260f;
  }

  .hljs-link {
    color: #a5d6ff;
    font-style: underline;
  }
}
